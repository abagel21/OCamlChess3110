<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="Piece.html">
<link rel="next" href="Minimax.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Piece" rel="Chapter" href="Piece.html">
<link title="Board" rel="Chapter" href="Board.html">
<link title="Minimax" rel="Chapter" href="Minimax.html">
<link title="Main" rel="Chapter" href="Main.html"><title>Board</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Piece.html" title="Piece">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Minimax.html" title="Minimax">Next</a>
</div>
<h1>Module <a href="type_Board.html">Board</a></h1>

<pre><span id="MODULEBoard"><span class="keyword">module</span> Board</span>: <code class="code">sig</code> <a href="Board.html">..</a> <code class="code">end</code></pre><div class="info module top">
<div class="info-desc">
<p>Representation of a chess game position.
    This module represents the sum of information of a chess position and the functionality required to manipulate it.</p>
</div>
</div>
<hr width="100%">

<pre><span id="TYPEr"><span class="keyword">type</span> <code class="type"></code>r</span> = <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option array array</code> </pre>
<div class="info ">
<div class="info-desc">
<p><code class="code">r</code> represents the squares of a chess board and the pieces on them.</p>
</div>
</div>


<pre><span id="EXCEPTIONIllegalSquare"><span class="keyword">exception</span> IllegalSquare</span> <span class="keyword">of</span> <code class="type">string</code></pre>
<div class="info ">
<div class="info-desc">
<p><code class="code">IllegalSquare s</code> is the exception thrown when a user attempts to move from 
    a square that does not exist</p>
</div>
</div>

<pre><span id="EXCEPTIONIllegalMove"><span class="keyword">exception</span> IllegalMove</span> <span class="keyword">of</span> <code class="type">string</code></pre>
<div class="info ">
<div class="info-desc">
<p><code class="code">IllegalMove s</code> is the exception thrown when the user attempts to make an 
    illegal move</p>
</div>
</div>

<pre><span id="EXCEPTIONIllegalFen"><span class="keyword">exception</span> IllegalFen</span> <span class="keyword">of</span> <code class="type">string</code></pre>
<div class="info ">
<div class="info-desc">
<p><code class="code">IllegalFen s</code> is the exception thrown when an illegal fen is given to 
    <code class="code">load_fen</code></p>
</div>
</div>

<pre><span id="EXCEPTIONIllegalPiece"><span class="keyword">exception</span> IllegalPiece</span> <span class="keyword">of</span> <code class="type">string</code></pre>
<div class="info ">
<div class="info-desc">
<p><code class="code">IllegalPiece s</code> is the exception thrown when an illegal string is fed into 
    the promote string for <code class="code">move</code></p>
</div>
</div>

<pre><span id="EXCEPTIONEmptyMoveStack"><span class="keyword">exception</span> EmptyMoveStack</span></pre>
<div class="info ">
<div class="info-desc">
<p><code class="code">EmptyMoveStack</code> is the exception thrown when a user attempts to undo when 
    no previous move has been made</p>
</div>
</div>

<pre><span id="TYPEsquare"><span class="keyword">type</span> <code class="type"></code>square</span> = <code class="type">int * int</code> </pre>


<pre><span id="TYPEmove"><span class="keyword">type</span> <code class="type"></code>move</span> = <code class="type">string * string</code> </pre>


<pre><code><span id="TYPEcastling"><span class="keyword">type</span> <code class="type"></code>castling</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTcastling.wk">wk</span>&nbsp;: <code class="type">bool</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTcastling.wq">wq</span>&nbsp;: <code class="type">bool</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTcastling.bk">bk</span>&nbsp;: <code class="type">bool</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTcastling.bq">bq</span>&nbsp;: <code class="type">bool</code>;</code></td>

</tr></table>
<code>}</code>



<pre><code><span id="TYPEpieces"><span class="keyword">type</span> <code class="type"></code>pieces</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTpieces.pawns">pawns</span>&nbsp;: <code class="type">int</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTpieces.knights">knights</span>&nbsp;: <code class="type">int</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTpieces.bishops">bishops</span>&nbsp;: <code class="type">int</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTpieces.rooks">rooks</span>&nbsp;: <code class="type">int</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTpieces.queens">queens</span>&nbsp;: <code class="type">int</code>;</code></td>

</tr></table>
<code>}</code>

<div class="info ">
<div class="info-desc">
<p><code class="code">pieces</code> represents the pieces remaining on the board.</p>
</div>
</div>


<pre><code><span id="TYPEfull_move"><span class="keyword">type</span> <code class="type"></code>full_move</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTfull_move.from_sqr">from_sqr</span>&nbsp;: <code class="type">int * int</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTfull_move.to_sqr">to_sqr</span>&nbsp;: <code class="type">int * int</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTfull_move.capture">capture</span>&nbsp;: <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTfull_move.ep">ep</span>&nbsp;: <code class="type">bool</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTfull_move.ep_sqr">ep_sqr</span>&nbsp;: <code class="type">int * int</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTfull_move.castle">castle</span>&nbsp;: <code class="type">bool</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTfull_move.promotion">promotion</span>&nbsp;: <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTfull_move.was_checked">was_checked</span>&nbsp;: <code class="type">bool</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTfull_move.halfmove_clock">halfmove_clock</span>&nbsp;: <code class="type">int</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTfull_move.prev_castling">prev_castling</span>&nbsp;: <code class="type"><a href="Board.html#TYPEcastling">castling</a></code>;</code></td>

</tr></table>
<code>}</code>



<pre><code><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.board">board</span>&nbsp;: <code class="type"><a href="Board.html#TYPEr">r</a></code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.castling">castling</span>&nbsp;: <code class="type"><a href="Board.html#TYPEcastling">castling</a></code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.ep">ep</span>&nbsp;: <code class="type">int * int</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.turn">turn</span>&nbsp;: <code class="type">bool</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.checked">checked</span>&nbsp;: <code class="type">bool</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.wking">wking</span>&nbsp;: <code class="type"><a href="Board.html#TYPEsquare">square</a></code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.bking">bking</span>&nbsp;: <code class="type"><a href="Board.html#TYPEsquare">square</a></code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.wpieces">wpieces</span>&nbsp;: <code class="type"><a href="Board.html#TYPEpieces">pieces</a></code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.bpieces">bpieces</span>&nbsp;: <code class="type"><a href="Board.html#TYPEpieces">pieces</a></code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.move_stack">move_stack</span>&nbsp;: <code class="type"><a href="Board.html#TYPEfull_move">full_move</a> list</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.fullmove_clock">fullmove_clock</span>&nbsp;: <code class="type">int</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.halfmove_clock">halfmove_clock</span>&nbsp;: <code class="type">int</code>;</code></td>

</tr></table>
<code>}</code>

<div class="info ">
<div class="info-desc">
<p><code class="code">t</code> represents a full chess position, including the squares, pieces
    on those squares, castling rights, turn, en passant rights, halfmove clock, 
    and move sequence made to reach the position.</p>
</div>
</div>


<pre><span id="VALwrook"><span class="keyword">val</span> wrook</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option</code></pre>
<pre><span id="VALwknight"><span class="keyword">val</span> wknight</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option</code></pre>
<pre><span id="VALwbishop"><span class="keyword">val</span> wbishop</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option</code></pre>
<pre><span id="VALwhking"><span class="keyword">val</span> whking</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option</code></pre>
<pre><span id="VALwqueen"><span class="keyword">val</span> wqueen</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option</code></pre>
<pre><span id="VALwpawn"><span class="keyword">val</span> wpawn</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option</code></pre>
<pre><span id="VALbrook"><span class="keyword">val</span> brook</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option</code></pre>
<pre><span id="VALbknight"><span class="keyword">val</span> bknight</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option</code></pre>
<pre><span id="VALbbishop"><span class="keyword">val</span> bbishop</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option</code></pre>
<pre><span id="VALblking"><span class="keyword">val</span> blking</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option</code></pre>
<pre><span id="VALbqueen"><span class="keyword">val</span> bqueen</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option</code></pre>
<pre><span id="VALbpawn"><span class="keyword">val</span> bpawn</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option</code></pre>
<pre><span id="VALinit_board_list"><span class="keyword">val</span> init_board_list</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option list list</code></pre>
<pre><span id="VALinit_empty_board_array"><span class="keyword">val</span> init_empty_board_array</span> : <code class="type">unit -> 'a option array array</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">init_empty_board_array</code> returns board array that is completely empty</p>
</div>
</div>

<pre><span id="VALinit_empty"><span class="keyword">val</span> init_empty</span> : <code class="type">unit -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">init_empty</code> returns a board representation that is empty</p>
</div>
</div>

<pre><span id="VALinit"><span class="keyword">val</span> init</span> : <code class="type">unit -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">init ()</code> returns the representation of the initial position of a chess
    game.</p>
</div>
</div>

<pre><span id="VALget_turn"><span class="keyword">val</span> get_turn</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_turn pos</code> returns true if it is white's move and false
   otherwise.</p>

<p><code class="code">get_turn t</code> is <code class="code">true</code> if it is White's turn, and <code class="code">false</code> if it is
    Black's.</p>
</div>
</div>

<pre><span id="VALis_in_check"><span class="keyword">val</span> is_in_check</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">is_in_check pos</code> returns true if the current player is in check</p>

<p><code class="code">is_in_check pos</code> returns whether the current player is in check in
    board state <code class="code">pos</code>.</p>
</div>
</div>

<pre><span id="VALget_piece_helper"><span class="keyword">val</span> get_piece_helper</span> : <code class="type">string -> <a href="Board.html#TYPEt">t</a> -> <a href="Piece.html#TYPEt">Piece.t</a> option</code></pre>
<pre><span id="VALget_piece_internal"><span class="keyword">val</span> get_piece_internal</span> : <code class="type">int * int -> <a href="Board.html#TYPEt">t</a> -> <a href="Piece.html#TYPEt">Piece.t</a> option</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_piece_internal square pos</code> retrieves the piece at <code class="code">rank, col</code> in
   <code class="code">pos.board</code>. Requires: rank, col are within bounds for <code class="code">pos.board</code></p>
</div>
</div>

<pre><span id="VALget_pieces"><span class="keyword">val</span> get_pieces</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> <a href="Board.html#TYPEpieces">pieces</a> * <a href="Board.html#TYPEpieces">pieces</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_pieces pos</code> returns the remaining pieces in <code class="code">pos</code> and separated by 
    ownership in the form (White's pieces, Black's pieces) where each set of 
    pieces is in the form of type <code class="code">pieces</code>.</p>
</div>
</div>

<pre><span id="VALto_string"><span class="keyword">val</span> to_string</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> string</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">to_string pos</code> outputs a pretty-printed string of the board state in
    <code class="code">pos</code>.</p>
</div>
</div>

<pre><span id="VALget_piece"><span class="keyword">val</span> get_piece</span> : <code class="type">string -> <a href="Board.html#TYPEt">t</a> -> string</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_piece str pos</code> takes the <code class="code">str</code> coordinate (rankcol) square
    representation and returns the name of the piece on that square in
    <code class="code">pos</code>. Raises: <code class="code">IllegalSquare str</code> if <code class="code">str</code> is not a valid chess
    square.</p>
</div>
</div>

<pre><span id="VALget_castling"><span class="keyword">val</span> get_castling</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> bool list</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_castling pos</code> returns a list containing values corresponding to
    the validity of castling in board state <code class="code">pos</code> in the form
    <code class="code">white kingside castling, white queenside castling, 
    black kingside castling, black queenside castling</code></p>
</div>
</div>

<pre><span id="VALrank_rep"><span class="keyword">val</span> rank_rep</span> : <code class="type">char list</code></pre>
<pre><span id="VALverify_move_string"><span class="keyword">val</span> verify_move_string</span> : <code class="type">string -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">verify_move_string str</code> checks whether <code class="code">str</code> is a valid coordinate
   representation chess move. 'e2e4' is valid, 'p1p3' is not. Ranks must
   be in "a".."h" and columns must be in 1..8.</p>
</div>
</div>

<pre><span id="VALsqr_from_str"><span class="keyword">val</span> sqr_from_str</span> : <code class="type">string -> int * int</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">sqr_from_str</code> returns the square representation of the coordinate in
   <code class="code">str</code></p>
</div>
</div>

<pre><span id="VALextract_opt"><span class="keyword">val</span> extract_opt</span> : <code class="type">'a option -> 'a</code></pre>
<pre><span id="VALverify_enemy_or_empty"><span class="keyword">val</span> verify_enemy_or_empty</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int * int -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">verify_enemy_or_empty pos to_sqr</code> returns true if <code class="code">to_sqr</code> is empty
   or occupied by an enemy piece</p>
</div>
</div>

<pre><span id="VALfirst_piece"><span class="keyword">val</span> first_piece</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int -> int -> int -> int -> <a href="Piece.html#TYPEt">Piece.t</a> option -> <a href="Piece.html#TYPEt">Piece.t</a> option</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">first_piece pos rank col rankinc colinc</code> returns the first piece
   along the line designated by rank = rank + rankinc, col = col +
   colinc</p>
</div>
</div>

<pre><span id="VALis_horiz_attacker"><span class="keyword">val</span> is_horiz_attacker</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option -> <a href="Piece.html#TYPEcolor_id">Piece.color_id</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">is_horiz_attacker piece color</code> returns true if <code class="code">piece</code> attacks
   horizontally per the rules of chess</p>
</div>
</div>

<pre><span id="VALis_diag_attacker"><span class="keyword">val</span> is_diag_attacker</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option -> <a href="Piece.html#TYPEcolor_id">Piece.color_id</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">is_diag_attacker piece color</code> returns true if <code class="code">piece</code> attacks
   diagonally per the rules of chess</p>
</div>
</div>

<pre><span id="VALperp_attack"><span class="keyword">val</span> perp_attack</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int -> int -> <a href="Piece.html#TYPEcolor_id">Piece.color_id</a> -> <a href="Piece.html#TYPEt">Piece.t</a> option -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">perp_attack pos rank col color</code> returns true if there is a piece
   horizontally or vertically attacking the square at (rank, col) of
   <code class="code">color</code></p>
</div>
</div>

<pre><span id="VALdiag_attack"><span class="keyword">val</span> diag_attack</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int -> int -> <a href="Piece.html#TYPEcolor_id">Piece.color_id</a> -> <a href="Piece.html#TYPEt">Piece.t</a> option -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">diag_attack pos rank col color</code> returns true if there is a piece
   diagonally attacking the square at (rank, col) of <code class="code">color</code></p>
</div>
</div>

<pre><span id="VALis_pawn_attacker"><span class="keyword">val</span> is_pawn_attacker</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option -> <a href="Piece.html#TYPEcolor_id">Piece.color_id</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">is_pawn_attacker piece color</code> returns true if <code class="code">piece</code> is a pawn of
   <code class="code">color</code></p>
</div>
</div>

<pre><span id="VALpawn_attack"><span class="keyword">val</span> pawn_attack</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int -> int -> <a href="Piece.html#TYPEcolor_id">Piece.color_id</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">pawn_attack pos rank col color</code> returns true if there is a pawn
   attacking the square at (rank, col) of <code class="code">color</code></p>
</div>
</div>

<pre><span id="VALis_knight_attacker"><span class="keyword">val</span> is_knight_attacker</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option -> <a href="Piece.html#TYPEcolor_id">Piece.color_id</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">is_knight_attacker piece color</code> returns true if <code class="code">piece</code> is a knight
   of <code class="code">color</code></p>
</div>
</div>

<pre><span id="VALsqr_inbounds"><span class="keyword">val</span> sqr_inbounds</span> : <code class="type">int * int -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">sqr_inbounds sqr</code> returns whether <code class="code">sqr</code> is inbounds.</p>
</div>
</div>

<pre><span id="VALcheck_valid_sqrs"><span class="keyword">val</span> check_valid_sqrs</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> (int * int) list -> bool list -> <a href="Piece.html#TYPEcolor_id">Piece.color_id</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">check_valid_sqrs pos psble_knight valid_sqr color</code> returns true if
   any square in <code class="code">psble_knight</code> is <code class="code">color</code></p>
</div>
</div>

<pre><span id="VALknight_attack"><span class="keyword">val</span> knight_attack</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int -> int -> <a href="Piece.html#TYPEcolor_id">Piece.color_id</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">knight_attack pos rank col color</code> returns true if there is a knight
   attacking the square at (rank, col) of <code class="code">color</code></p>
</div>
</div>

<pre><span id="VALking_attack"><span class="keyword">val</span> king_attack</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int -> int -> bool -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">king_attack pos rank col color</code> returns true if sqr is attacked by a
   king, else false</p>
</div>
</div>

<pre><span id="VALattacked_square"><span class="keyword">val</span> attacked_square</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int * int -> <a href="Piece.html#TYPEcolor_id">Piece.color_id</a> -> <a href="Piece.html#TYPEt">Piece.t</a> option -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">attacked_square pos sqr color</code> returns true if <code class="code">sqr</code> is attacked by
   a piece of <code class="code">color</code> in <code class="code">pos</code>, including <code class="code">k</code> if the pieces is a king</p>
</div>
</div>

<pre><span id="VALrv_rank_util"><span class="keyword">val</span> rv_rank_util</span> : <code class="type">bool Stdlib.ref -> <a href="Board.html#TYPEt">t</a> -> int -> int -> int -> unit</code></pre>
<pre><span id="VALrv_col_util"><span class="keyword">val</span> rv_col_util</span> : <code class="type">bool Stdlib.ref -> <a href="Board.html#TYPEt">t</a> -> int -> int -> int -> unit</code></pre>
<pre><span id="VALrook_valid_helper"><span class="keyword">val</span> rook_valid_helper</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int * int -> int * int -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">rook_valid_helper pos from_sqr to_sqr</code> verifies that the move
   (from_sqr, to_sqr) is a legal move for a rook.</p>
</div>
</div>

<pre><span id="VALbishop_valid_helper"><span class="keyword">val</span> bishop_valid_helper</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int * int -> int * int -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">bishop_valid_helper pos from_sqr to_sqr</code> verifies that the moves
   (from_sqr, to_sqr) is a legal move for a bishop</p>
</div>
</div>

<pre><span id="VALknight_valid_helper"><span class="keyword">val</span> knight_valid_helper</span> : <code class="type">'a -> int * int -> int * int -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">knight_valid_helper pos from_sqr to_sqr</code> ensures that the move
   (from_sqr, to_sqr) is legal for a knight and if so, executes the move
   and returns the new state. Throws: IllegalMove if the move is not
   legal for a knight</p>
</div>
</div>

<pre><span id="VALqueen_valid_helper"><span class="keyword">val</span> queen_valid_helper</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int * int -> int * int -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">queen_check_helper pos from_sqr to_sqr</code> verifies that the moves
   (from_sqr, to_sqr) is a legal move for a queen</p>
</div>
</div>

<pre><span id="VALis_rook"><span class="keyword">val</span> is_rook</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option -> <a href="Board.html#TYPEt">t</a> -> bool</code></pre>
<pre><span id="VALcheck_castle"><span class="keyword">val</span> check_castle</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int -> int -> bool</code></pre>
<pre><span id="VALking_valid_helper"><span class="keyword">val</span> king_valid_helper</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int * int -> int * int -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">king_valid_helper pos from_sqr to_sqr</code> verifies that the moves
   (from_sqr, to_sqr) is a legal move for a king</p>
</div>
</div>

<pre><span id="VALset_castling"><span class="keyword">val</span> set_castling</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int * int -> <a href="Board.html#TYPEcastling">castling</a></code></pre>
<pre><span id="VALsqr_to_str"><span class="keyword">val</span> sqr_to_str</span> : <code class="type">int * int -> string</code></pre>
<pre><span id="VALconvert_sqrs_to_string"><span class="keyword">val</span> convert_sqrs_to_string</span> : <code class="type">int * int -> int * int -> string</code></pre>
<pre><span id="VALrmv_piece"><span class="keyword">val</span> rmv_piece</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int * int -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">rmv_piece pos sqr</code> removes the piece in <code class="code">pos</code> at <code class="code">sqr</code>. Requires:
   sqr is inbounds</p>
</div>
</div>

<pre><span id="VALadd_piece"><span class="keyword">val</span> add_piece</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> <a href="Piece.html#TYPEt">Piece.t</a> option -> int * int -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">add_piece pos sqr piece</code> adds <code class="code">piece</code> to <code class="code">pos</code> at <code class="code">sqr</code>. Requires:
   sqr is inbounds</p>
</div>
</div>

<pre><span id="VALmv_and_chck"><span class="keyword">val</span> mv_and_chck</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int * int -> int * int -> bool -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">mv_and_chck pos sqr</code> returns true if removing the piece at <code class="code">sqr</code>
   results in the <code class="code">color</code> king being in check, else false</p>
</div>
</div>

<pre><span id="VALupdate_pieces"><span class="keyword">val</span> update_pieces</span> : <code class="type"><a href="Piece.html#TYPEcolor_id">Piece.color_id</a> -><br>       <a href="Board.html#TYPEpieces">pieces</a> -> <a href="Piece.html#TYPEt">Piece.t</a> option -> <a href="Piece.html#TYPEt">Piece.t</a> option -> <a href="Board.html#TYPEpieces">pieces</a></code></pre>
<pre><span id="VALupdate_pieces_undo"><span class="keyword">val</span> update_pieces_undo</span> : <code class="type"><a href="Piece.html#TYPEcolor_id">Piece.color_id</a> -><br>       <a href="Board.html#TYPEpieces">pieces</a> -> <a href="Piece.html#TYPEt">Piece.t</a> option -> <a href="Piece.html#TYPEt">Piece.t</a> option -> <a href="Board.html#TYPEpieces">pieces</a></code></pre>
<pre><span id="VALadd_move"><span class="keyword">val</span> add_move</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -><br>       <a href="Board.html#TYPEsquare">square</a> -><br>       <a href="Board.html#TYPEsquare">square</a> -><br>       bool -><br>       bool -><br>       <a href="Piece.html#TYPEt">Piece.t</a> option -> <a href="Piece.html#TYPEt">Piece.t</a> option -> bool -> bool -> <a href="Board.html#TYPEcastling">castling</a> -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">add_move pos from_sqr to_sqr k</code> returns a new position given that
   the board array is already shifted with king position updated if <code class="code">k</code>,
   fifty_rep updated if <code class="code">pawn_move</code> or <code class="code">capture</code> is not None, and the
   move stack updated</p>
</div>
</div>

<pre><span id="VALmove_normal_piece"><span class="keyword">val</span> move_normal_piece</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> <a href="Board.html#TYPEsquare">square</a> -> <a href="Board.html#TYPEsquare">square</a> -> bool -> bool -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">move_normal_piece pos from_sqr to_sqr</code> moves a piece from <code class="code">from_sqr</code>
   to <code class="code">to_sqr</code> taking into account whether there was a pawn move (<code class="code">pm</code>)
   or en passant (<code class="code">ep</code>)</p>
</div>
</div>

<pre><span id="VALrmv_pawn"><span class="keyword">val</span> rmv_pawn</span> : <code class="type"><a href="Board.html#TYPEpieces">pieces</a> -> <a href="Board.html#TYPEpieces">pieces</a></code></pre>
<pre><span id="VALmove_en_passant"><span class="keyword">val</span> move_en_passant</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> <a href="Board.html#TYPEsquare">square</a> -> <a href="Board.html#TYPEsquare">square</a> -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">move_en_passant pos from_sqr to_sqr</code> executes the move from_sqr
   to_sqr as an en passant move and returns the modified state.
   Precondition: The given move is a valid en passant move</p>
</div>
</div>

<pre><span id="VALfind_king_sqr"><span class="keyword">val</span> find_king_sqr</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> bool -> <a href="Board.html#TYPEsquare">square</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">find_king_sqr pos</code> returns the position of the king of the current
   player</p>
</div>
</div>

<pre><span id="VALknight_checks"><span class="keyword">val</span> knight_checks</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int * int -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">knight_checks pos square</code> returns true if the knight on <code class="code">square</code>
   checks the opposing player's king</p>
</div>
</div>

<pre><span id="VALbishop_checks"><span class="keyword">val</span> bishop_checks</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int * int -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">bishop_checks pos square</code> returns true if the bishop on <code class="code">square</code>
   checks the opposing player's king</p>
</div>
</div>

<pre><span id="VALrook_checks"><span class="keyword">val</span> rook_checks</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int * int -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">rook_checks pos square</code> returns true if the rook on <code class="code">square</code> checks
   the opposing player's king</p>
</div>
</div>

<pre><span id="VALqueen_checks"><span class="keyword">val</span> queen_checks</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int * int -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">queen_checks pos square</code> returns true if the queen on <code class="code">square</code>
   checks the opposing player's king</p>
</div>
</div>

<pre><span id="VALpromotion_causes_check"><span class="keyword">val</span> promotion_causes_check</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int * int -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">promotion_causes_check pos square</code> checks if the promoted piece on
   <code class="code">square</code> causes check for the opposing king</p>
</div>
</div>

<pre><span id="VALcauses_discovery"><span class="keyword">val</span> causes_discovery</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int * int -> int * int -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">causes_discovery pos from_sqr to_sqr</code> returns true if moving the
   piece on <code class="code">from_sqr</code> to <code class="code">to_sqr</code> causes check for the opposing king</p>
</div>
</div>

<pre><span id="VALpromote"><span class="keyword">val</span> promote</span> : <code class="type">int * int -> <a href="Board.html#TYPEt">t</a> -> <a href="Piece.html#TYPEt">Piece.t</a> option -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">promote square pos piece</code> promotes the pawn on <code class="code">square</code> in <code class="code">pos</code> to
   <code class="code">piece</code>. Requires: the piece on <code class="code">square</code> is a pawn, <code class="code">square</code> is
   inbounds, piece is not a king or pawn</p>
</div>
</div>

<pre><span id="VALpawn_double_move_helper"><span class="keyword">val</span> pawn_double_move_helper</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> <a href="Board.html#TYPEsquare">square</a> -> <a href="Board.html#TYPEsquare">square</a> -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">pawn_double_move_helper pos from_sqr to_sqr</code> moves the pawn on
   <code class="code">from_sqr</code> to <code class="code">to_sqr</code> and updates the en passant square</p>
</div>
</div>

<pre><span id="VALpawn_valid_helper"><span class="keyword">val</span> pawn_valid_helper</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> <a href="Board.html#TYPEsquare">square</a> -> <a href="Board.html#TYPEsquare">square</a> -> <a href="Piece.html#TYPEt">Piece.t</a> option -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">pawn_valid_helper pos from_sqr to_sqr</code> verifies that the move
   (from_sqr, to_sqr) is a legal move for a pawn and executes it,
   returning the new state. Throws: IllegalMove if the move is illegal
   Requires: from_sqr is a pawn</p>
</div>
</div>

<pre><span id="VALset_castles1"><span class="keyword">val</span> set_castles1</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> <a href="Board.html#TYPEcastling">castling</a></code></pre>
<pre><span id="VALset_castles2"><span class="keyword">val</span> set_castles2</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> <a href="Board.html#TYPEcastling">castling</a></code></pre>
<pre><span id="VALpossibly_castle"><span class="keyword">val</span> possibly_castle</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> <a href="Board.html#TYPEsquare">square</a> -> <a href="Board.html#TYPEsquare">square</a> -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">possibly_castle pos from_sqr to_sqr</code> moves the king normally or
   castles depending on the call.</p>
</div>
</div>

<pre><span id="VALwill_be_checked"><span class="keyword">val</span> will_be_checked</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int * int -> int * int -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">will_be_checked pos from_sqr to_sqr</code> checks whether the player's
   move would put themself in check</p>
</div>
</div>

<pre><span id="VALcheck_and_move"><span class="keyword">val</span> check_and_move</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> -><br>       <a href="Board.html#TYPEt">t</a> -> <a href="Board.html#TYPEsquare">square</a> -> <a href="Board.html#TYPEsquare">square</a> -> <a href="Piece.html#TYPEt">Piece.t</a> option -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">check_and_move piece pos from_sqr to_sqr</code> moves the piece <code class="code">piece</code>
   from <code class="code">from_sqr</code> to <code class="code">to_sqr</code> in <code class="code">pos</code> if it is a legal move for
   <code class="code">piece</code>, promotes the piece to <code class="code">new_p</code> if it is a pawn, and returns
   the new state if the move is legal, else returns <code class="code">pos</code> Precondition:
   <code class="code">piece</code> is owned by the current player of <code class="code">pos</code>, the current player
   of <code class="code">pos</code> is not in check</p>
</div>
</div>

<pre><span id="VALis_king"><span class="keyword">val</span> is_king</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">is_king piece</code> returns true if the option piece is a king,else false</p>
</div>
</div>

<pre><span id="VALchecked_move"><span class="keyword">val</span> checked_move</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> -><br>       <a href="Board.html#TYPEt">t</a> -> <a href="Board.html#TYPEsquare">square</a> -> <a href="Board.html#TYPEsquare">square</a> -> <a href="Piece.html#TYPEt">Piece.t</a> option -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">checked_move piece pos from_sqr to_sqr</code> moves the piece <code class="code">piece</code> from
   <code class="code">from_sqr</code> to <code class="code">to_sqr</code> in <code class="code">pos</code> if it is a legal move for <code class="code">piece</code> and
   returns the new state if the move is legal, else returns <code class="code">pos</code>
   Precondition: <code class="code">piece</code> is owned by the current player of <code class="code">pos</code>, the
   current player of <code class="code">pos</code> is in check</p>
</div>
</div>

<pre><span id="VALmove_helper"><span class="keyword">val</span> move_helper</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> -><br>       <a href="Board.html#TYPEt">t</a> -> <a href="Board.html#TYPEsquare">square</a> -> <a href="Board.html#TYPEsquare">square</a> -> <a href="Piece.html#TYPEt">Piece.t</a> option -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">move_helper piece pos from_sqr to_sqr</code> moves the piece <code class="code">piece</code> from
   <code class="code">from_sqr</code> to <code class="code">to_sqr</code> if it is a legal move in <code class="code">pos</code> and returns the
   new state if the move is legal, else returns <code class="code">pos</code></p>
</div>
</div>

<pre><span id="VALparse_promote_str"><span class="keyword">val</span> parse_promote_str</span> : <code class="type">string -> <a href="Board.html#TYPEt">t</a> -> <a href="Piece.html#TYPEt">Piece.t</a> option</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">parse_promote_str str</code> returns the valid piece representation of
   <code class="code">str</code>. Throws <code class="code">IllegalPiece</code> if the string is an illegal piece</p>
</div>
</div>

<pre><span id="VALmove"><span class="keyword">val</span> move</span> : <code class="type">string -> string -> <a href="Board.html#TYPEt">t</a> -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">move str promote_str pos</code> takes in a coordinate-based move <code class="code">str</code>
    and a promotion string <code class="code">promote_str</code> representing a piece and returns the 
    new state after the move if it is legal on board <code class="code">pos</code>.</p>

<p>Raises: <code class="code">IllegalMove</code> if the move is illegal, or <code class="code">IllegalSquare str</code>
    if one of the squares is out of bounds.</p>

<p>Requires: str is a valid coordinate-based move of the form
    '<code class="code">a-g</code><code class="code">1-8</code><code class="code">a-g</code><code class="code">1-8</code>' and <code class="code">promote_str</code> is either the empty string
    or one of "Q", "R", "B", or "N".</p>
</div>
</div>

<pre><span id="VALadd_piece"><span class="keyword">val</span> add_piece</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> <a href="Piece.html#TYPEt">Piece.t</a> option -> int * int -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">add_piece pos piece square</code> adds <code class="code">piece</code> to <code class="code">pos</code> at <code class="code">square</code></p>
</div>
</div>

<pre><span id="VALletter"><span class="keyword">val</span> letter</span> : <code class="type">char -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">letter chr</code> returns true if <code class="code">chr</code> is a lowercase or uppercase
   letter, else false</p>
</div>
</div>

<pre><span id="VALfen_parse_castling"><span class="keyword">val</span> fen_parse_castling</span> : <code class="type">string -> 'a -> <a href="Board.html#TYPEcastling">castling</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">fen_parse_castling str pos</code> takes in the castling portion of a FEN
   string, a partially constructed position, and the index where the
   castling rights string ends and returns a boolean array of length 4
   storing the castling rights</p>
</div>
</div>

<pre><span id="VALfen_parse_other"><span class="keyword">val</span> fen_parse_other</span> : <code class="type">string -> <a href="Board.html#TYPEt">t</a> -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">fen_parse_other str pos</code> takes in a position with board array parsed
   from <code class="code">str</code> and adds the en passant, castling, and turn information</p>
</div>
</div>

<pre><span id="VALadjust_pieces"><span class="keyword">val</span> adjust_pieces</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> <a href="Piece.html#TYPEt">Piece.t</a> option -> <a href="Board.html#TYPEt">t</a></code></pre>
<pre><span id="VALload_fen_helper"><span class="keyword">val</span> load_fen_helper</span> : <code class="type">string -> <a href="Board.html#TYPEt">t</a> -> int -> int -> int -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">load_fen_helper str pos rank col ind</code> is a recursive helper for
   turning a FEN string into a board. It returns a new position with the
   edited board and positional values. Throws: IllegalFen if the FEN
   contains illegal characters</p>
</div>
</div>

<pre><span id="VALletter_fen_matching"><span class="keyword">val</span> letter_fen_matching</span> : <code class="type">string -> <a href="Board.html#TYPEt">t</a> -> int -> int -> int -> int -> <a href="Board.html#TYPEt">t</a></code></pre>
<pre><span id="VALload_fen"><span class="keyword">val</span> load_fen</span> : <code class="type">string -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">load_fen fen</code> takes in a fen representation of a board and
    returns the board state equivalent. Requires: <code class="code">fen</code> is a valid FEN
    format string.</p>
</div>
</div>

<pre><span id="VALmove_list"><span class="keyword">val</span> move_list</span> : <code class="type">(string * string) list -> <a href="Board.html#TYPEt">t</a> -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">move_list moves board</code> performs every move in <code class="code">moves</code> in board
    state <code class="code">board</code>. Raises: IllegalMove if any move in <code class="code">moves</code> is illegal, 
    IllegalPiece if any move in <code class="code">moves</code> contains an invalid promotion string, 
    and IllegalSquare if any move in <code class="code">moves</code> contains an illegal from/to square</p>
</div>
</div>

<pre><span id="VALundo_normal_move"><span class="keyword">val</span> undo_normal_move</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -><br>       <a href="Board.html#TYPEsquare">square</a> -><br>       int * int -><br>       <a href="Piece.html#TYPEt">Piece.t</a> option -><br>       <a href="Piece.html#TYPEt">Piece.t</a> option -><br>       bool -> int -> <a href="Board.html#TYPEcastling">castling</a> -> int * int -> <a href="Board.html#TYPEfull_move">full_move</a> list -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">undo_normal_move pos from_sqr to_sqr capture</code> reverts the move
   <code class="code">from_sqr</code> <code class="code">to_sqr</code>. Requires: the move did not involve castling or
   en passant</p>
</div>
</div>

<pre><span id="VALundo_castling"><span class="keyword">val</span> undo_castling</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -><br>       <a href="Board.html#TYPEsquare">square</a> -><br>       int * int -> <a href="Board.html#TYPEcastling">castling</a> -> int * int -> <a href="Board.html#TYPEfull_move">full_move</a> list -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">undo_castling</code> undos the move <code class="code">from_sqr</code> <code class="code">to_sqr</code> in <code class="code">pos</code> given
   that it was a castling move</p>
</div>
</div>

<pre><span id="VALadd_pawn"><span class="keyword">val</span> add_pawn</span> : <code class="type"><a href="Board.html#TYPEpieces">pieces</a> -> <a href="Board.html#TYPEpieces">pieces</a></code></pre>
<pre><span id="VALundo_ep"><span class="keyword">val</span> undo_ep</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -><br>       int * int -><br>       int * int -> bool -> int -> int * int -> <a href="Board.html#TYPEfull_move">full_move</a> list -> <a href="Board.html#TYPEt">t</a></code></pre>
<pre><span id="VALundo_prev"><span class="keyword">val</span> undo_prev</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">undo_prev pos</code> takes in a board state <code class="code">pos</code> and returns the
    previous board state. Raises: <code class="code">EmptyMoveStack</code> if the move stack is
    empty.</p>
</div>
</div>

<pre><span id="VALrevert_prev"><span class="keyword">val</span> revert_prev</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int -> <a href="Board.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">revert_prev board x</code> moves the game back <code class="code">x</code> moves. Requires: x is less 
    than the fullmove clock of <code class="code">board</code></p>
</div>
</div>

<pre><span id="VALfullmove_clock"><span class="keyword">val</span> fullmove_clock</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> int</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_turn_num t</code> returns the current turn number of t</p>
</div>
</div>

<pre><span id="VALget_piece_locs"><span class="keyword">val</span> get_piece_locs</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> (int * int) list</code></pre>
<pre><span id="VALin_range"><span class="keyword">val</span> in_range</span> : <code class="type">int * int -> bool</code></pre>
<pre><span id="VALavail_move_pawn_one"><span class="keyword">val</span> avail_move_pawn_one</span> : <code class="type">int * int -> <a href="Board.html#TYPEt">t</a> -> bool -> string</code></pre>
<pre><span id="VALavail_move_pawn_two"><span class="keyword">val</span> avail_move_pawn_two</span> : <code class="type">int * int -> <a href="Board.html#TYPEt">t</a> -> bool -> string</code></pre>
<pre><span id="VALavail_move_pawn_diag"><span class="keyword">val</span> avail_move_pawn_diag</span> : <code class="type">int * int -> <a href="Board.html#TYPEt">t</a> -> bool -> bool -> string</code></pre>
<pre><span id="VALavail_move_pawn_general"><span class="keyword">val</span> avail_move_pawn_general</span> : <code class="type">int * int -> <a href="Board.html#TYPEt">t</a> -> bool -> string list</code></pre>
<pre><span id="VALavail_move_diag"><span class="keyword">val</span> avail_move_diag</span> : <code class="type">int * int -> <a href="Board.html#TYPEt">t</a> -> bool -> bool -> bool -> string list</code></pre>
<pre><span id="VALavail_move_bishop"><span class="keyword">val</span> avail_move_bishop</span> : <code class="type">int * int -> <a href="Board.html#TYPEt">t</a> -> bool -> string list</code></pre>
<pre><span id="VALavail_knight"><span class="keyword">val</span> avail_knight</span> : <code class="type">int * int -> <a href="Board.html#TYPEt">t</a> -> int -> int -> bool -> string</code></pre>
<pre><span id="VALavail_move_knight"><span class="keyword">val</span> avail_move_knight</span> : <code class="type">int * int -> <a href="Board.html#TYPEt">t</a> -> bool -> string list</code></pre>
<pre><span id="VALavail_castles"><span class="keyword">val</span> avail_castles</span> : <code class="type">int * int -> <a href="Board.html#TYPEt">t</a> -> int -> string</code></pre>
<pre><span id="VALavail_move_king"><span class="keyword">val</span> avail_move_king</span> : <code class="type">int * int -> <a href="Board.html#TYPEt">t</a> -> string list</code></pre>
<pre><span id="VALavail_move_aux"><span class="keyword">val</span> avail_move_aux</span> : <code class="type">int * int -> <a href="Board.html#TYPEt">t</a> -> bool -> bool -> bool -> string list</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">avail_move_aux piece pos x checked dirxn</code> finds available moves for
    <code class="code">piece</code> on board <code class="code">pos</code>, and checks vertical moves if <code class="code">dirxn</code> is
    <code class="code">true</code> or horizontal moves if it is <code class="code">false</code>.</p>
</div>
</div>

<pre><span id="VALavail_move_vert"><span class="keyword">val</span> avail_move_vert</span> : <code class="type">int * int -> <a href="Board.html#TYPEt">t</a> -> bool -> bool -> string list</code></pre>
<pre><span id="VALavail_move_horiz"><span class="keyword">val</span> avail_move_horiz</span> : <code class="type">int * int -> <a href="Board.html#TYPEt">t</a> -> bool -> bool -> string list</code></pre>
<pre><span id="VALavail_move_rook"><span class="keyword">val</span> avail_move_rook</span> : <code class="type">int * int -> <a href="Board.html#TYPEt">t</a> -> bool -> string list</code></pre>
<pre><span id="VALavail_move"><span class="keyword">val</span> avail_move</span> : <code class="type">int * int -> <a href="Board.html#TYPEt">t</a> -> bool -> string list</code></pre>
<pre><span id="VALavail_moves"><span class="keyword">val</span> avail_moves</span> : <code class="type">(int * int) list -> <a href="Board.html#TYPEt">t</a> -> bool -> string list list</code></pre>
<pre><span id="VALmove_generator"><span class="keyword">val</span> move_generator</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> string list</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">move_generator t</code> returns the possible moves of pos t</p>
</div>
</div>

<pre><span id="VALbuild_boardstring"><span class="keyword">val</span> build_boardstring</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option array array -> string</code></pre>
<pre><span id="VALmap_castling_str"><span class="keyword">val</span> map_castling_str</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> string</code></pre>
<pre><span id="VALto_fen_no_mvclck"><span class="keyword">val</span> to_fen_no_mvclck</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> string</code></pre>
<pre><span id="VALto_fen"><span class="keyword">val</span> to_fen</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> string</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">to_fen t</code> returns the FEN representation of <code class="code">t</code></p>
</div>
</div>

<pre><span id="VALequals"><span class="keyword">val</span> equals</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> <a href="Board.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">equals pos1 pos2</code> returns whether board states <code class="code">pos1</code> and <code class="code">pos2</code>
    are equal.</p>
</div>
</div>

<pre><span id="VALcheck_kings"><span class="keyword">val</span> check_kings</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> bool</code></pre>
<pre><span id="VALcheckmate"><span class="keyword">val</span> checkmate</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">checkmate t</code> returns true if the player is checkmated</p>
</div>
</div>

<pre><span id="VALmv_to_str"><span class="keyword">val</span> mv_to_str</span> : <code class="type"><a href="Board.html#TYPEfull_move">full_move</a> -> string * string</code></pre>
<pre><span id="VALthreefold_repetition"><span class="keyword">val</span> threefold_repetition</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">threefold_repetition pos</code> returns true if the current player of
   <code class="code">pos</code> can claim a draw by threefold repetition</p>

<p><code class="code">threefold_repetition t</code> returns true if the player to move can claim a draw by threefold repetition, else false</p>
</div>
</div>

<pre><span id="VALfiftyfold_rule"><span class="keyword">val</span> fiftyfold_rule</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">fiftyfold_rule pos</code> returns true if the current player can claim a
   draw by the fiftyfold rule</p>

<p><code class="code">fiftyfold_rule t</code> returns true if the player to move can claim a draw by the fiftyfold rule</p>
</div>
</div>

<pre><span id="VALinsufficient_material"><span class="keyword">val</span> insufficient_material</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">insufficient_material pos</code> returns true if the game is drawn by
   insufficient material</p>

<p><code class="code">insufficient_material t</code> returns true if the player to move can claim a draw by insufficient material, else false</p>
</div>
</div>

<pre><span id="VALdraw"><span class="keyword">val</span> draw</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">draw t</code> returns true if the player to move can claim a draw, else
   false</p>
</div>
</div>

<pre><span id="VALget_moves"><span class="keyword">val</span> get_moves</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> (string * string) list</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code"> get_moves t</code> returns the moves made in the game so far in the form ('<code class="code">a-g</code><code class="code">1-8</code><code class="code">a-g</code><code class="code">1-8</code>', promote_str)</p>
</div>
</div>

<pre><span id="VALdraw_squares"><span class="keyword">val</span> draw_squares</span> : <code class="type">unit -> unit</code></pre>
<pre><span id="VALdraw_pieces"><span class="keyword">val</span> draw_pieces</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> unit</code></pre>
<pre><span id="VALdraw_board_labels"><span class="keyword">val</span> draw_board_labels</span> : <code class="type">unit -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">draw_board_labels</code> draws the a-g and 1-8 labels on the chess board
   graphic</p>
</div>
</div>

<pre><span id="VALdraw_board"><span class="keyword">val</span> draw_board</span> : <code class="type"><a href="Board.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">draw_board t</code> draws the current chess piece position on the open graphics context</p>
</div>
</div>
</body></html>
